(this["webpackJsonppau-app"]=this["webpackJsonppau-app"]||[]).push([[0],{219:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(30),s=a.n(c),i=(a(87),a(12)),o=a(9),d=a(18),l=a.n(d),u=a(47),p=a(48),j=a.n(p),b="PREFECTURE_LIST_REQUEST",f="PREFECTURE_LIST_SUCCESS",h="PREFECTURE_LIST_FAIL",O="ADD_TO_POPULATION_LIST_SUCCESS",v="ADD_TO_POPULATION_LIST_FAIL",m="REMOVE_TO_POPULATION_LIST",x="bkdMhcii8aiAnbU5YGZsCYG0zwLo1N8DdjcoJCmf";function g(e,t,a,r){var n=[];n[0]=[],n[1]=[],n[2]=[],n[3]=[],e.data[0].data.forEach((function(e){n[0].push(e.value)})),e.data[1].data.forEach((function(e){n[1].push(e.value)})),e.data[2].data.forEach((function(e){n[2].push(e.value)})),e.data[3].data.forEach((function(e){n[3].push(e.value)}));var c=[];r.forEach((function(t){c.push({label:a+"-"+e.data[Number(t)].label,dataList:n[Number(t)]})}));var s={id:t,name:a,boundaryYear:e.boundaryYear,data:c,years:[]};return e.data[0].data.forEach((function(e){s.years.push(e.year)})),s}var y=a(1);var E=function(){return Object(y.jsx)("div",{className:"loading",children:Object(y.jsx)("div",{className:"spinner"})})};var C=function(e){return Object(y.jsx)("div",{className:"alert alert-".concat(e.variant||"info"),children:e.children})},N=a(82),_=a(50);var L=function(e){var t=function(e){var t=Object(_.randomColor)(),a={labels:[1960,1965,1970,1975,1980,1985,1990,1995,2e3,2005,2010,2015,2020,2025,2030,2035,2040,2045],datasets:[{label:"demo",data:[5039206,5171800,5184287,5338206,5575989,5679439,5643647,5692321,5683062,5627737,5506419,5381733,5216615,5016554,4791592,4546357,4280427,4004973],borderColor:t,backgroundColor:t,yAxisID:"y"}]},r=[];return e.forEach((function(e){e.data.forEach((function(e){var t=Object(_.randomColor)();r.push({label:e.label,data:e.dataList,borderColor:t,backgroundColor:t,yAxisID:"y"})}))})),{labels:e.length>0?e[0].years:a.labels,datasets:e.length>0?r:a.datasets}}(Object(o.c)((function(e){return e.dataList})).list),a={responsive:!0,interaction:{mode:"index",intersect:!1},stacked:!1,plugins:{title:{display:!0,text:"\u4eba\u53e3\u30c1\u30e3\u30fc\u30c8",font:{family:"Noto Sans JP",size:20,weight:"bold",lineHeight:1.2}},legend:{display:!0,position:"bottom"}},scales:{x:{ticks:{maxTicksLimit:5}},y:{type:"linear",display:!0,position:"left"}}};return Object(y.jsx)("div",{children:Object(y.jsx)(N.a,{data:t,options:a})})},S=a(2);var T=function(e){var t=e.prefecture,a=e.options,r=Object(o.b)();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("input",{type:"checkbox",id:t.prefCode,name:t.prefName,value:t.prefCode,onChange:function(e){var n;e.target.checked?r(function(e,t,a){return function(){var r=Object(u.a)(l.a.mark((function r(n){var c,s;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,j.a.get("https://opendata.resas-portal.go.jp/api/v1/population/composition/perYear?prefCode=".concat(e),{headers:{"X-API-KEY":x}});case 3:c=r.sent,s=c.data,n({type:O,payload:g(s.result,e,t,a)}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),n({type:v,payload:r.t0.message});case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}(t.prefCode,t.prefName,a)):r((n=t.prefCode,function(e,t){e({type:m,payload:n})}))}}),Object(y.jsx)("label",{htmlFor:t.prefCode,children:t.prefName})]})};var I=function(e){var t=e.prefectures,a=Object(r.useState)(["sidebar"]),n=Object(i.a)(a,2),c=n[0],s=n[1],o=function(){var e=Object(S.a)(c);e.push("active"),s(e)};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("button",{type:"button",className:"button",onClick:o,children:"\u90fd\u5e02\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"}),Object(y.jsx)("div",{className:c.join(" "),onMouseOver:o,onMouseOut:function(){s(["sidebar"])},children:t.map((function(e){return Object(y.jsx)("div",{className:"check-conatainer",children:Object(y.jsx)(T,{prefecture:e,options:[1]})},e.prefCode)}))})]})};var k=function(e){var t=e.message;return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"message-content",children:[Object(y.jsx)("div",{className:"status-code",children:t.statusCode}),Object(y.jsx)("hr",{}),Object(y.jsx)("div",{className:"message",children:t.message}),Object(y.jsx)("div",{className:"description",children:t.description})]})})};var A=function(){var e=Object(o.b)();Object(r.useEffect)((function(){e(function(){var e=Object(u.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:b}),e.prev=1,e.next=4,j.a.get("https://opendata.resas-portal.go.jp/api/v1/prefectures",{headers:{"X-API-KEY":x}});case 4:a=e.sent,r=a.data,t({type:f,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:h,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]);var t=Object(o.c)((function(e){return e.prefectureList})),a=t.loading,n=t.error,c=t.prefectures,s=Object(r.useState)([]),d=Object(i.a)(s,2),p=d[0],O=d[1];return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsxs)("header",{children:[Object(y.jsx)("h1",{className:"title-page",children:"\u5dde\u306e\u56fd\u52e2\u8abf\u67fb"}),Object(y.jsx)("h3",{className:"subtitle-page",children:"(1960-2045)"})]}),a?Object(y.jsx)(E,{}):c.message?Object(y.jsx)(k,{message:c}):n?Object(y.jsx)(C,{children:n}):Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("main",{children:[Object(y.jsx)("div",{children:Object(y.jsx)(I,{prefectures:c.result,setList:function(e){O(e)}})}),Object(y.jsx)("div",{children:Object(y.jsx)("div",{className:"chart",children:Object(y.jsx)(L,{options:p})})})]})})]})},P=a(19),w=a(81),U=a(5),F=Object(P.b)({prefectureList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,prefectures:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return{loading:!0};case f:return{loading:!1,prefectures:t.payload};case h:return{loading:!1,error:t.payload};default:return e}},dataList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{list:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(U.a)(Object(U.a)({},e),{},{list:[].concat(Object(S.a)(e.list),[t.payload]),message:null});case v:return Object(U.a)(Object(U.a)({},e),{},{message:t.payload});case m:return Object(U.a)(Object(U.a)({},e),{},{list:e.list.filter((function(e){return e.id!==t.payload}))});default:return e}}}),D=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||P.c,R=Object(P.d)(F,D(Object(P.a)(w.a)));s.a.render(Object(y.jsx)(o.a,{store:R,children:Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)(A,{})})}),document.getElementById("root"))},87:function(e,t,a){}},[[219,1,2]]]);
//# sourceMappingURL=main.6e592ec6.chunk.js.map