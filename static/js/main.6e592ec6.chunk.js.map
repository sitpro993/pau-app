{"version":3,"sources":["constants/prefContants.js","url/requestURL.js","actions/prefAction.js","components/LoadingBox.js","components/ErrorBox.js","components/MyChart.js","components/CheckBox.js","components/SelectBar.js","components/MessageBox.js","App.js","store.js","reducers/prefReducer.js","index.js"],"names":["PREFECTURE_LIST_REQUEST","PREFECTURE_LIST_SUCCESS","PREFECTURE_LIST_FAIL","ADD_TO_POPULATION_LIST_SUCCESS","ADD_TO_POPULATION_LIST_FAIL","REMOVE_TO_POPULATION_LIST","API_KEY","separateData","result","prefCode","prefName","options","temp","data","forEach","d","push","value","option","label","Number","dataList","myList","id","name","boundaryYear","years","element","year","LoadingBox","className","ErrorBox","props","variant","children","MyChart","list","color","randomColor","demo","labels","datasets","borderColor","backgroundColor","yAxisID","e","length","addData","useSelector","state","responsive","interaction","mode","intersect","stacked","plugins","title","display","text","font","family","size","weight","lineHeight","legend","position","scales","x","ticks","maxTicksLimit","y","type","CheckBox","prefecture","dispatch","useDispatch","onChange","target","checked","a","axios","get","headers","payload","message","addToDataList","getState","htmlFor","SelectBar","prefectures","useState","classList","setClassList","mouseOverHandler","onClick","join","onMouseOver","onMouseOut","map","MessageBox","statusCode","description","App","useEffect","prefectureList","loading","error","setOptions","setList","reducer","combineReducers","action","filter","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6e592ec6.chunk.js","sourcesContent":["export const PREFECTURE_LIST_REQUEST = \"PREFECTURE_LIST_REQUEST\";\r\nexport const PREFECTURE_LIST_SUCCESS = \"PREFECTURE_LIST_SUCCESS\";\r\nexport const PREFECTURE_LIST_FAIL = \"PREFECTURE_LIST_FAIL\";\r\n// export const PREFECTURE_LIST_FAIL_SERVER = \"PREFECTURE_LIST_FAIL_SERVER\";\r\n// export const PREFECTURE_LIST_FAIL_USER = \"PREFECTURE_LIST_FAIL_SERVER\";\r\n\r\nexport const ADD_TO_POPULATION_LIST_SUCCESS = \"ADD_TO_POPULATION_LIST_SUCCESS\";\r\nexport const ADD_TO_POPULATION_LIST_FAIL = \"ADD_TO_POPULATION_LIST_FAIL\";\r\nexport const REMOVE_TO_POPULATION_LIST = \"REMOVE_TO_POPULATION_LIST\";\r\n","export const API_KEY = \"bkdMhcii8aiAnbU5YGZsCYG0zwLo1N8DdjcoJCmf\";\r\n","import axios from \"axios\";\r\nimport {\r\n  ADD_TO_POPULATION_LIST_FAIL,\r\n  ADD_TO_POPULATION_LIST_SUCCESS,\r\n  PREFECTURE_LIST_FAIL,\r\n  // PREFECTURE_LIST_FAIL_SERVER,\r\n  // PREFECTURE_LIST_FAIL_USER,\r\n  PREFECTURE_LIST_REQUEST,\r\n  PREFECTURE_LIST_SUCCESS,\r\n  REMOVE_TO_POPULATION_LIST,\r\n} from \"../constants/prefContants\";\r\nimport { API_KEY } from \"../url/requestURL\";\r\n\r\nexport const getPrefList = () => async (dispatch) => {\r\n  dispatch({\r\n    type: PREFECTURE_LIST_REQUEST,\r\n  });\r\n\r\n  try {\r\n    const { data } = await axios.get(\r\n      \"https://opendata.resas-portal.go.jp/api/v1/prefectures\",\r\n      { headers: { \"X-API-KEY\": API_KEY } }\r\n    );\r\n\r\n    dispatch({ type: PREFECTURE_LIST_SUCCESS, payload: data });\r\n    // if (data.message) {\r\n    //   dispatch({ type: PREFECTURE_LIST_FAIL_SERVER, payload: data });\r\n    // } else {\r\n\r\n    // }\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PREFECTURE_LIST_FAIL,\r\n      payload: error.message,\r\n    });\r\n  }\r\n};\r\n\r\nfunction separateData(result, prefCode, prefName, options) {\r\n  let temp = [];\r\n  temp[0] = [];\r\n  temp[1] = [];\r\n  temp[2] = [];\r\n  temp[3] = [];\r\n\r\n  result.data[0].data.forEach((d) => {\r\n    temp[0].push(d.value);\r\n  });\r\n  result.data[1].data.forEach((d) => {\r\n    temp[1].push(d.value);\r\n  });\r\n  result.data[2].data.forEach((d) => {\r\n    temp[2].push(d.value);\r\n  });\r\n  result.data[3].data.forEach((d) => {\r\n    temp[3].push(d.value);\r\n  });\r\n\r\n  let data = [];\r\n  options.forEach((option) => {\r\n    data.push({\r\n      label: prefName + \"-\" + result.data[Number(option)].label,\r\n      dataList: temp[Number(option)],\r\n    });\r\n  });\r\n\r\n  const myList = {\r\n    id: prefCode,\r\n    name: prefName,\r\n    boundaryYear: result.boundaryYear,\r\n    data: data,\r\n    years: [],\r\n  };\r\n\r\n  result.data[0].data.forEach((element) => {\r\n    myList.years.push(element.year);\r\n  });\r\n\r\n  return myList;\r\n}\r\n\r\nexport const addToDataList = (id, name, options) => async (dispatch) => {\r\n  try {\r\n    const { data } = await axios.get(\r\n      `https://opendata.resas-portal.go.jp/api/v1/population/composition/perYear?prefCode=${id}`,\r\n      {\r\n        headers: {\r\n          \"X-API-KEY\": API_KEY,\r\n        },\r\n      }\r\n    );\r\n\r\n    dispatch({\r\n      type: ADD_TO_POPULATION_LIST_SUCCESS,\r\n      payload: separateData(data.result, id, name, options),\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ADD_TO_POPULATION_LIST_FAIL,\r\n      payload: error.message,\r\n    });\r\n  }\r\n};\r\nexport const removeToDataList = (id) => (dispatch, getState) => {\r\n  dispatch({ type: REMOVE_TO_POPULATION_LIST, payload: id });\r\n};\r\n","import React from \"react\";\r\n\r\nfunction LoadingBox() {\r\n  return (\r\n    <div className=\"loading\">\r\n      <div className=\"spinner\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoadingBox;\r\n","import React from \"react\";\r\n\r\nfunction ErrorBox(props) {\r\n  return (\r\n    <div className={`alert alert-${props.variant || \"info\"}`}>\r\n      {props.children}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ErrorBox;\r\n","import React from \"react\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { randomColor } from \"randomcolor\";\r\n\r\nfunction addData(list) {\r\n  let color = randomColor();\r\n  const demo = {\r\n    labels: [\r\n      1960, 1965, 1970, 1975, 1980, 1985, 1990, 1995, 2000, 2005, 2010, 2015,\r\n      2020, 2025, 2030, 2035, 2040, 2045,\r\n    ],\r\n    datasets: [\r\n      {\r\n        label: \"demo\",\r\n        data: [\r\n          5039206, 5171800, 5184287, 5338206, 5575989, 5679439, 5643647,\r\n          5692321, 5683062, 5627737, 5506419, 5381733, 5216615, 5016554,\r\n          4791592, 4546357, 4280427, 4004973,\r\n        ],\r\n        borderColor: color,\r\n        backgroundColor: color,\r\n\r\n        yAxisID: \"y\",\r\n      },\r\n    ],\r\n  };\r\n  let datasets = [];\r\n  list.forEach((element) => {\r\n    element.data.forEach((e) => {\r\n      let color = randomColor();\r\n      datasets.push({\r\n        label: e.label,\r\n        data: e.dataList,\r\n        borderColor: color,\r\n        backgroundColor: color,\r\n\r\n        yAxisID: \"y\",\r\n      });\r\n    });\r\n  });\r\n  const data = {\r\n    labels: list.length > 0 ? list[0].years : demo.labels,\r\n    datasets: list.length > 0 ? datasets : demo.datasets,\r\n  };\r\n  return data;\r\n}\r\n\r\nfunction addOptions() {\r\n  const options = {\r\n    responsive: true,\r\n    interaction: {\r\n      mode: \"index\",\r\n      intersect: false,\r\n    },\r\n    stacked: false,\r\n    plugins: {\r\n      title: {\r\n        display: true,\r\n        text: \"人口チャート\",\r\n        font: {\r\n          family: \"Noto Sans JP\",\r\n          size: 20,\r\n          weight: \"bold\",\r\n          lineHeight: 1.2,\r\n        },\r\n      },\r\n      legend: {\r\n        display: true,\r\n        position: \"bottom\",\r\n      },\r\n    },\r\n    scales: {\r\n      x: {\r\n        ticks: {\r\n          maxTicksLimit: 5,\r\n        },\r\n      },\r\n      y: {\r\n        type: \"linear\",\r\n        display: true,\r\n        position: \"left\",\r\n      },\r\n    },\r\n  };\r\n  return options;\r\n}\r\n\r\nfunction MyChart(props) {\r\n  const dataList = useSelector((state) => state.dataList);\r\n  const { list } = dataList;\r\n  const data = addData(list);\r\n  const option = addOptions();\r\n\r\n  return (\r\n    <div>\r\n      <Line data={data} options={option} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyChart;\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addToDataList, removeToDataList } from \"../actions/prefAction\";\r\n\r\nfunction CheckBox(props) {\r\n  const { prefecture, options } = props;\r\n  const dispatch = useDispatch();\r\n\r\n  const handleChange = (e) => {\r\n    if (e.target.checked) {\r\n      dispatch(\r\n        addToDataList(prefecture.prefCode, prefecture.prefName, options)\r\n      );\r\n    } else {\r\n      dispatch(removeToDataList(prefecture.prefCode));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <input\r\n        type=\"checkbox\"\r\n        id={prefecture.prefCode}\r\n        name={prefecture.prefName}\r\n        value={prefecture.prefCode}\r\n        onChange={handleChange}\r\n      ></input>\r\n      <label htmlFor={prefecture.prefCode}>{prefecture.prefName}</label>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CheckBox;\r\n","import React, { useState } from \"react\";\r\nimport CheckBox from \"./CheckBox\";\r\n\r\nfunction SelectBar(props) {\r\n  const { prefectures } = props;\r\n\r\n  const [classList, setClassList] = useState([\"sidebar\"]);\r\n\r\n  const mouseOverHandler = () => {\r\n    let temp = [...classList];\r\n    temp.push(\"active\");\r\n    setClassList(temp);\r\n  };\r\n\r\n  const mouseOutHandler = () => {\r\n    let temp = [\"sidebar\"];\r\n    setClassList(temp);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <button type=\"button\" className=\"button\" onClick={mouseOverHandler}>\r\n        都市を選択してください\r\n      </button>\r\n      <div\r\n        className={classList.join(\" \")}\r\n        onMouseOver={mouseOverHandler}\r\n        onMouseOut={mouseOutHandler}\r\n      >\r\n        {prefectures.map((prefecture) => (\r\n          <div key={prefecture.prefCode} className=\"check-conatainer\">\r\n            <CheckBox prefecture={prefecture} options={[1]}></CheckBox>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SelectBar;\r\n","import React from \"react\";\r\n\r\nfunction MessageBox(props) {\r\n  const { message } = props;\r\n  return (\r\n    <>\r\n      <div className=\"message-content\">\r\n        <div className=\"status-code\">{message.statusCode}</div>\r\n        <hr />\r\n        <div className=\"message\">{message.message}</div>\r\n        <div className=\"description\">{message.description}</div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MessageBox;\r\n","import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getPrefList } from \"./actions/prefAction\";\nimport LoadingBox from \"./components/LoadingBox\";\nimport ErrorBox from \"./components/ErrorBox\";\nimport MyChart from \"./components/MyChart\";\nimport SelectBar from \"./components/SelectBar\";\nimport MessageBox from \"./components/MessageBox\";\n\nfunction App() {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getPrefList());\n  }, [dispatch]);\n  const { loading, error, prefectures } = useSelector(\n    (state) => state.prefectureList\n  );\n\n  const [options, setOptions] = useState([]);\n  const setList = (options) => {\n    setOptions(options);\n  };\n\n  return (\n    <div className=\"App\">\n      <header>\n        <h1 className=\"title-page\">州の国勢調査</h1>\n        <h3 className=\"subtitle-page\">(1960-2045)</h3>\n      </header>\n\n      {loading ? (\n        <LoadingBox></LoadingBox>\n      ) : prefectures.message ? (\n        <MessageBox message={prefectures}></MessageBox>\n      ) : error ? (\n        <ErrorBox>{error}</ErrorBox>\n      ) : (\n        <>\n          <main>\n            <div>\n              <SelectBar\n                prefectures={prefectures.result}\n                setList={setList}\n              ></SelectBar>\n            </div>\n            <div>\n              <div className=\"chart\">\n                <MyChart options={options}></MyChart>\n              </div>\n            </div>\n          </main>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { dataListReducer, prefListReducer } from \"./reducers/prefReducer\";\r\n\r\nconst reducer = combineReducers({\r\n  prefectureList: prefListReducer,\r\n  dataList: dataListReducer,\r\n});\r\n\r\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(reducer, composeEnhancer(applyMiddleware(thunk)));\r\n\r\nexport default store;\r\n","import {\r\n  ADD_TO_POPULATION_LIST_FAIL,\r\n  ADD_TO_POPULATION_LIST_SUCCESS,\r\n  PREFECTURE_LIST_FAIL,\r\n  // PREFECTURE_LIST_FAIL_SERVER,\r\n  // PREFECTURE_LIST_FAIL_USER,\r\n  PREFECTURE_LIST_REQUEST,\r\n  PREFECTURE_LIST_SUCCESS,\r\n  REMOVE_TO_POPULATION_LIST,\r\n} from \"../constants/prefContants\";\r\n\r\nexport const prefListReducer = (\r\n  state = { loading: true, prefectures: [] },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case PREFECTURE_LIST_REQUEST:\r\n      return { loading: true };\r\n    case PREFECTURE_LIST_SUCCESS:\r\n      return { loading: false, prefectures: action.payload };\r\n    // case PREFECTURE_LIST_FAIL_SERVER:\r\n    //   return { loading: false, message: action.payload };\r\n    case PREFECTURE_LIST_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const dataListReducer = (state = { list: [] }, action) => {\r\n  switch (action.type) {\r\n    case ADD_TO_POPULATION_LIST_SUCCESS:\r\n      return {\r\n        ...state,\r\n        list: [...state.list, action.payload],\r\n        message: null,\r\n      };\r\n    case ADD_TO_POPULATION_LIST_FAIL:\r\n      return {\r\n        ...state,\r\n        message: action.payload,\r\n      };\r\n    case REMOVE_TO_POPULATION_LIST:\r\n      return {\r\n        ...state,\r\n        list: state.list.filter((x) => x.id !== action.payload),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}